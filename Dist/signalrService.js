!function(n){"use strict";function e(e,t,r,o,i){function c(n){console&&e.logging&&t.error(n)}if(!e||!e.register)return void t.error("Invalid config");var a,u=$.hubConnection();return u?(u.logging=e.logging||!1,n.forEach(e.register,function(n){var e=u.createHubProxy(n.hub);e.on(n.method,function(){})}),u.stateChanged(function(n){a=n.newState,r(function(){i.$emit("signalrStateChange",n.newState)},200)}),u.connectionSlow(function(){c("We are currently experiencing difficulties with the connection.")}),u.error(function(n){c("SignalR error: "+n)}),u.received(function(){r(function(){i.$emit("signalrTransportState","received")},400)}),this.getCurrentState=function(){return a},this.invoke=function(n,t,a){r(function(){i.$emit("signalrTransportState","sending")},200);var f=o.defer(),l=u.createHubProxy(n);return u.start({transport:e.transports||["webSockets","serverSentEvents","longPolling","foreverFrame"]}).done(function(){a?l.invoke(t,a).done(function(n){f.resolve(n||null)}).fail(function(n){c("SignalR error: "+n),f.reject()}):l.invoke(t).done(function(n){f.resolve(n||null)}).fail(function(n){c("SignalR error: "+n),f.reject()})}).fail(function(){c("Failed to start signalR"),f.reject()}),f.promise},void(this.on=function(n,e,t){var r=u.createHubProxy(n);r.on(e,t)})):void c("SignalR is not referenced.")}n.module("signalr",[]).provider("signalrService",function(){var n;this.config=function(e){n=e},this.$get=["$log","$timeout","$q","$rootScope",function(t,r,o,i){return new e(n,t,r,o,i)}]})}(angular);